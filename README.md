![Превью](https://drive.google.com/uc?export=view&id=1TQLRMD2_S5eyxefni-XHdBtBU-cos_q4)

# Описание

Цель проекта — создать систему боя, характеристик персонажа и базового взаимодействия с противниками, где герой сражается с одним случайным противником и может переключаться между ближним и дальним боем.

## Архитектура игры

Для визуального представления архитектуры игры вы можете ознакомиться с изображением ниже:

![Архитектура игры](https://drive.google.com/uc?export=view&id=1XXpx66sFI_gjCSMwbK5OddEzOKVqVLvo)

## UML диаграмма персонажа и противника

Для понимания структуры и взаимосвязей классов персонажа и противника, ознакомьтесь с UML диаграммой ниже:

![UML диаграмма персонажа и противника](https://drive.google.com/uc?export=view&id=1pJm-1TKjfLgiU6kctrhWtRLEh3IGQMr1)

## Используемые ассеты

- [2D Animated Zombie](https://assetstore.unity.com/packages/2d/characters/2d-animated-zombie-184521)
- [2D Animated Character Rust](https://assetstore.unity.com/packages/2d/characters/2d-animated-character-rust-186513)

## Технологии и используемые шаблоны проектирования

- **Unity 2021.3.41f1**
- [Spine Unity Runtime](https://ru.esotericsoftware.com/files/runtimes/unity/spine-unity-3.8-2021-11-10.unitypackage)
- [Unity HFSM (Hierarchical Finite State Machine)](https://github.com/Inspiaaa/UnityHFSM/releases/tag/v2.1.0)
- [VContainer (Dependency Injection Framework for Unity)](https://github.com/hadashiA/VContainer/releases)
- [UniTask (Asynchronous Programming Library for Unity)](https://github.com/Cysharp/UniTask/releases/tag/2.5.5)
- **Factory Pattern**: Используется для создания экземпляров объектов.
- **Object Pool**: Эффективно переиспользует противников для оптимизации производительности.
- **Addressables**: Используются для управления ресурсами и их загрузки в игре.
- **Model-View-Presenter (MVP)**: Используется для разделения логики интерфейса в игре.

## Реализованные функции

### 1. Система боя

- **Персонаж**: Персонаж стоит на одном месте во время боя.
- **Противники**: Противники появляются случайным образом из набора возможных врагов, каждый из которых имеет определенный шанс спавна.
- **Этапы боя**:
  - **Подготовка к атаке**: Персонаж готовится к атаке. Время подготовки может уменьшаться в зависимости от характеристик персонажа.
  - **Атака**: Персонаж наносит удар, скорость которого зависит от используемого оружия.
- **Индикатор этапа боя**: Над персонажем отображается индикатор, показывающий текущий этап боя и оставшееся до его завершения время.
- **Кнопка старта боя**: Добавлена кнопка для начала боя.
- **Кнопка сбежать с боя**: Добавлена кнопка для выхода из боя.
- **Кнопка восстановления здоровья**: Когда персонаж вне боя, доступна кнопка для полного восстановления здоровья. В бою эта кнопка скрыта.
- **Прекращение боя**: Если персонаж погибает, бой автоматически прекращается.

### 2. Переключение типов атаки

- **Ближний бой**: Использование холодного оружия.
- **Дальний бой**: Использование дальнобойного оружия.
- **Переключение**: Персонаж может переключаться между ближним и дальним боем.
  - Если идет этап подготовки к атаке, подготовка ставится на паузу, происходит смена оружия (длительность — 2 секунды), затем подготовка возобновляется.
  - Если идет этап атаки, смена оружия происходит после завершения атаки, длится 2 секунды, и только потом начинается новый этап подготовки.
- **Экипировка**: На экране боя присутствует кнопка для переключения между луком и мечом.

### 3. Характеристики персонажа

- **Броня**: Уменьшает получаемый урон.
- **Здоровье**: Показывает текущее и максимальное количество жизней персонажа.
- **Сила атаки**: Определяет количество урона, наносимого противнику.
- **Подготовка к атаке**: Задержка перед каждым ударом (перезарядка).

### 4. Scriptable Objects

- **Противники**: Конфигурация противников, включая их характеристики и шансы на появление, вынесена в Scriptable Objects.
- **Базовая статистика персонажа**: Основные характеристики персонажа (например, здоровье, броня, сила атаки) вынесены в Scriptable Object для удобства настройки и модификации.
